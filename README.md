# ChatWebSocket
 
This is a simple Web Chat application built using WebSocket technology. WebSocket is a protocol that enables full-duplex communication between a server and a client. This program has two components, a server component and a client component.

The client component consists of an HTML page (index.html) and a JavaScript file (websocket.js). The HTML page includes a text area for displaying the username, two input fields for entering the recipient's username and message, and a button for connecting to the server and sending the message. The JavaScript file provides two functions: connect() and send(). The connect() function is called when the Connect button is clicked. It creates a WebSocket object and connects it to the server. It also sets up an event listener for incoming messages. The send() function is called when the Send button is clicked. It retrieves the message and recipient's username from the input fields, creates a JSON object, and sends it to the server using the WebSocket object.

The server component consists of a Java class (ChatEndpoint) that implements the WebSocket API. It uses the @ServerEndpoint annotation to specify the endpoint URL ("/chat/{username}") and the decoders and encoders for the incoming and outgoing messages. The ChatEndpoint class maintains a static set of all active endpoints and a HashMap of all active user sessions. When a new user connects to the server, a new ChatEndpoint object is created, and the user's session and username are added to the HashMap. A "Connected!" message is broadcasted to all active users. When a user sends a message, the ChatEndpoint class decodes the JSON object and extracts the message content and recipient's username. If the recipient's username is empty, the message is broadcasted to all active users. Otherwise, the message is sent only to the specified recipient. When a user disconnects from the server, the ChatEndpoint object is removed from the set of active endpoints, and a "Disconnected!" message is broadcasted to all active users.

The ChatEndpoint class also includes two helper methods: broadcast() and sendMessageToUser(). The broadcast() method sends a message to all active users, while the sendMessageToUser() method sends a message to a specific user based on their username. Both methods use the set of active endpoints and the HashMap of user sessions to locate the correct user.

The program also includes a Message class (dominio.Message) that defines the format of the incoming and outgoing messages. It has three fields: "from" (the username of the sender), "to" (the username of the recipient), and "content" (the message content).

Finally, the program includes a MessageDecoder class that implements the Decoder.Text interface to decode incoming JSON objects into Message objects. It uses the Gson library to perform the decoding.
